<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    1742·小博文
</title>
<link rel="shortcut icon" href="https://blog.ss1742.com/favicon.ico?v=1565194006541">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://blog.ss1742.com/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://blog.ss1742.com/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://blog.ss1742.com">
                <img class="avatar" src="https://blog.ss1742.com/images/avatar.png?v=1565194006541" alt="">
            </a>
            <div class="site-title">
                <h1>
                    1742·小博文
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/axios-shang-chuan-jin-du">
                        axios上传进度
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-31</time>
                    
                        <a href="https://blog.ss1742.com/tag/Vd9DRT-cY" class="post-tag i-tag
                            i-tag-success">
            #代码技巧
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            const config = {
    onUploadProgress: progressEvent =&amp;gt; console.log(progressEvent.loaded / progressEvent.total)
}
axios.put(&#39;/upload/server&#39;, data, config);


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/axios-shang-chuan-jin-du">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/qian-duan-xing-neng-you-hua">
                        前端性能优化
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-30</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            前端性能优化：减少请求数量、减小资源大小、优化网络连接、优化资源加载、减少重绘回流、使用更好性能的api和构建优化。
参考链接: 前端性能优化的七大手段
减少请求数量
合并
如果不合并影响

文件之间插入的上行请求，增加了 n - 1 个网络延迟
受丢包问题影响更严重
经过代理服务器时可能会被断开

合并带来的问题

首屏渲染
缓存失效

建议

公共库合并
不同页面单独合并

图片处理

雪碧图
减少了请求数量，但如果图片过大一次加载过慢。现在因字体图片和 svg 图片流行渐渐使用少了
2. base64
base64 格式嵌入到 html 中，减少了请求数量，但是编码用8位字符表示信息中的6个位，编码后大小比原始值扩大了 33%
3. 使用字体图标来替代图片

减少重定向
如果使用重定向，要使用 301 永久重定向
使用缓存
Cache-Control 和 Expires
不使用 @import
避免使用空 src 和 href
减小资源大小
压缩

html 压缩
css 压缩
js 压缩与混淆
图片压缩（tinypng）

gzip
优化网络连接
cdn(Content Delivery Network)
dns 预解析
&amp;lt;link rel=&amp;quot;dns-prefecth&amp;quot; href=&amp;quot;https://xxx.com&amp;quot; /&amp;gt;

并行连接
域名发散，使用多个域名增加并发数
持久连接
keep-alive
管道化连接
http2协议，单条连接多路复用
优化资源下载
资源加载位置
css 头部，js 尾部，布局 js 放在 head 中
资源加载时机

异步 script 标签
defer: html 加载完后执行
async: 下载完成立即执行
2. 模块按需加载
webpack 1. import() 2.require.ensure
3. 懒加载

减少重绘回流
样式

避免使用层级较深的选择器
避免使用 css 表达式
避免使用 table 布局
能用 css 尽量不要用 js

渲染层

将需要多次重绘的元素独立，如设置 absolute，可以减少重绘范围
动画使用硬件渲染

dom 优化

缓存 dom
减少 dom 深度和数量
批量操作 dom


事件代理




防抖节流


及时清理环境

使用更好的api
用对 css 选择器
使用 requestAnimationFrame 替代计时器
使用 IntersectionObserver 实现图片可视区域懒加载
使用 webworker
构建优化
webpack
打包公共代码
动态导入 按需加载
剔除无用代码
tree shaking
js - uglifyjs
css - purify css
长缓存优化


hash 替换为 chunkhash


使用 name 而不是 id


公用代码内联

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/qian-duan-xing-neng-you-hua">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/mai-mai-gu-piao-de-zui-jia-shi-ji-ii">
                        买卖股票的最佳时机 II
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-success">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。
设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。
注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。
示例 1:
输入: [7,1,5,3,6,4]
输出: 7
解释: 在第 2 天（股票价格 = 1）的时候买入，在第 3 天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5-1 = 4 。
     随后，在第 4 天（股票价格 = 3）的时候买入，在第 5 天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 = 6-3 = 3 。

示例 2:
输入: [1,2,3,4,5]
输出: 4
解释: 在第 1 天（股票价格 = 1）的时候买入，在第 5 天 （股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5-1 = 4 。
     注意你不能在第 1 天和第 2 天接连购买股票，之后再将它们卖出。
     因为这样属于同时参与了多笔交易，你必须在再次购买前出售掉之前的股票。

示例 3:
输入: [7,6,4,3,1]
输出: 0
解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。

function maxProfit(prices) {
	let buy = Number.MAX_SAFE_INTEGER;
	let profit = 0;
	for (let i = 0, len = prices.length; i &amp;lt; len; i++) {
		if (prices[i] &amp;lt; buy) {
			buy = prices[i];
		} else {
			profit += prices[i] - buy;
			buy = prices[i];
		}
	}
	return profit;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/mai-mai-gu-piao-de-zui-jia-shi-ji-ii">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/mai-mai-gu-piao-de-zui-jia-shi-ji">
                        买卖股票的最佳时机
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-error">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。
如果你最多只允许完成一笔交易（即买入和卖出一支股票），设计一个算法来计算你所能获取的最大利润。
注意你不能在买入股票前卖出股票。
示例 1:
输入: [7,1,5,3,6,4]
输出: 5
解释: 在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。
     注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格。

示例 2:
输入: [7,6,4,3,1]
输出: 0
解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。

function maxProfit(prices) {
	let min = Number.MAX_SAFE_INTEGET;
	let profit = 0;
	for (let i = 0, len = prices.length; i &amp;lt; len; i++) {
		if (prices[i] &amp;lt; min) {
			min = prices[i];
		} else if (prices[i] - min &amp;gt; profit) {
			profit = prices[i] - min;
		}
	}
	return profit;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/mai-mai-gu-piao-de-zui-jia-shi-ji">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/fan-zhuan-lian-biao">
                        反转链表
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-success">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            反转一个单链表。
示例:
输入: 1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;NULL
输出: 5-&amp;gt;4-&amp;gt;3-&amp;gt;2-&amp;gt;1-&amp;gt;NULL

/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
// 常规
function reverseList1(head) {
	if (head === null || head.next === null) return head;
	let p = head.next;
	head.next = null;
	let temp = null;
	while (p !== null) {
		temp = p.next;
		p.next = head;
		head = p;
		p = temp;
	}
	return head;
}
// 递归
function reverseList2(head) {
	if (head === null || head.next === null) return head;
	let new_head = reverseList2(head.next);
	head.next.next = head;
	head.next = null;
	return new_head;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/fan-zhuan-lian-biao">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/he-bing-qu-jian">
                        合并区间
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-warning">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给出一个区间的集合，请合并所有重叠的区间。
示例 1:
输入: [[1,3],[2,6],[8,10],[15,18]]
输出: [[1,6],[8,10],[15,18]]
解释: 区间 [1,3] 和 [2,6] 重叠, 将它们合并为 [1,6].

示例 2:
输入: [[1,4],[4,5]]
输出: [[1,5]]
解释: 区间 [1,4] 和 [4,5] 可被视为重叠区间。

function merge(intervals) {
	if (intervals.length &amp;lt; 2) return intervals;
	intervals = intervals.sort((a, b) =&amp;gt; a[0] - b[0]);
	return intervals.reduce((a, b) =&amp;gt; {
		let temp = a[a.length - 1];
		if (temp[1] &amp;lt; b[0]) {
			return [...a, b];
		} else {
			temp[1] = Math.max(temp[1], b[1]);
		}
		return a;
	}, [intervals[0]]);
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/he-bing-qu-jian">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/shu-zu-zhong-de-di-k-ge-zui-da-yuan-su">
                        数组中的第K个最大元素
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-other_3">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            在未排序的数组中找到第 k 个最大的元素。
示例 :
输入: [3,2,1,5,6,4] 和 k = 2
输出: 5

function findKthLargest(nums, k) {
	let temp = qSort(nums);
	return k &amp;lt;= temp.length ? temp[k - 1] : null;
}
function qSort(nums) {
	if (nums.length &amp;lt; 2) return nums;
	let left = [], right = [], temp = nums[0];
	for (let i = 0, len = nums.length; i &amp;lt; len; i++) {
		if (nums[i] &amp;lt; temp) {
			right.push(nums[i]);
		} else {
			left.push(nums[i]);
		}
	}
	return [...qSort(left), temp, ...qSort(right)];
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/shu-zu-zhong-de-di-k-ge-zui-da-yuan-su">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/jian-hua-lu-jing">
                        简化路径
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-info">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            以 Unix 风格给出一个文件的绝对路径，你需要简化它。或者换句话说，将其转换为规范路径。
在 Unix 风格的文件系统中，一个点（.）表示当前目录本身；此外，两个点 （..） 表示将目录切换到上一级（指向父目录）；两者都可以是复杂相对路径的组成部分。更多信息请参阅：Linux / Unix中的绝对路径 vs 相对路径
请注意，返回的规范路径必须始终以斜杠 / 开头，并且两个目录名之间必须只有一个斜杠 /。最后一个目录名（如果存在）不能以 / 结尾。此外，规范路径必须是表示绝对路径的最短字符串。
示例
输入：&amp;quot;/a/./b/../../c/&amp;quot;
输出：&amp;quot;/c&amp;quot;
解释：注意，最后一个目录名后面没有斜杠。

function simplifyPath(path) {
	let res = [];
	let paths = path.split(&#39;/&#39;);
	for (let i = 0, len = paths.length; i &amp;lt; len; i++) {
		if (paths[i] === &#39;..&#39;) {
			res.pop();
		} else if (paths[i] &amp;amp;&amp;amp; paths[i] !== &#39;.&#39;) {
			res.push(paths[i]);
		}
	}
	return res.length &amp;gt; 0 ? (&#39;/&#39; + res.join(&#39;/&#39;)) : &#39;/&#39;;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/jian-hua-lu-jing">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/kan-shu">
                        愈发觉得看书真的很重要
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-29</time>
                    
                        <a href="https://blog.ss1742.com/tag/kHKSvnCCb" class="post-tag i-tag
                            i-tag-banana">
            #感想
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            看书，不只是限制于技术类，同时需要对社会学、经济学的书籍多看一点。
不追求马上获得什么，一点点来。

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/kan-shu">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/fan-zhuan-zi-fu-chuan-li-de-dan-ci">
                        翻转字符串里的单词
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-07-27</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给定一个字符串，逐个翻转字符串中的每个单词。
function reverseWords(s) {
			return s.trim().replace(/(\s)+/g, &#39;$1&#39;).split(&#39; &#39;).reverse().join(&#39; &#39;);
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/fan-zhuan-zi-fu-chuan-li-de-dan-ci">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- 翻页 -->
                
    <div class="pagination-container">
        
            <a href="https://blog.ss1742.com/" class="page-btn btn">上一页</a>
            
                
                    <a href="https://blog.ss1742.com/page/3/" class="page-btn btn">下一页</a>
                    
    </div>
    
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- 个人信息 -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://blog.ss1742.com/images/avatar.png?v=1565194006541)">
        </div>
        <h1 class="id_card-title">
            1742·小博文
        </h1>
        <h2 class="id_card-description">
            这是我的真博客
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                <a href="https://github.com/bowenjun" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-github"></i></a>
                
                    <!-- twitter -->
                    
                            <!-- weibo -->
                            
                                    <!-- facebook -->
                                    

        </div>
    </div>
    

                        <!-- 公告栏 -->
                        

                </div>
            </div>



            <div class="site-footer">
  1742 | 
  <a class="rss" href="https://blog.ss1742.com/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>