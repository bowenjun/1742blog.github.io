<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    1742·小博文
</title>
<link rel="shortcut icon" href="https://blog.ss1742.com/favicon.ico?v=1565452495358">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://blog.ss1742.com/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://blog.ss1742.com/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://blog.ss1742.com">
                <img class="avatar" src="https://blog.ss1742.com/images/avatar.png?v=1565452495358" alt="">
            </a>
            <div class="site-title">
                <h1>
                    1742·小博文
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/zui-jie-jin-de-san-shu-zhi-he">
                        最接近的三数之和
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-10</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-other_1">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给定一个包括 n 个整数的数组 nums 和 一个目标值 target。找出 nums 中的三个整数，使得它们的和与 target 最接近。返回这三个数的和。假定每组输入只存在唯一答案。
例如，给定数组 nums = [-1，2，1，-4], 和 target = 1.
与 target 最接近的三个数的和为 2. (-1 + 2 + 1 = 2).

var threeSumClosest = function(nums, target) {
    const len = nums.length;
    if (len &amp;lt; 3) {
        return null;
    }
    nums.sort((a, b) =&amp;gt; a - b);
    let res = target - (nums[0] + nums[1] + nums[2]);
    for (let i = 0; i &amp;lt; len - 2; i++) {
        // 左指针为 i+1，右指针为 nums.length - 1
        let left = i + 1,
            right = len - 1;

        while (left &amp;lt; right) {
            const sum = nums[i] + nums[left] + nums[right];
            if (sum === target) {
                return sum;
            } else if (sum &amp;lt; target) {
                // sum &amp;lt; target 时，left++
                while (nums[left] === nums[++left]);
            } else {
                // sum &amp;gt; target时，right--
                while (nums[right] === nums[--right]);
            }
            // 存储与 target 最近的值
            if (Math.abs(sum - target) &amp;lt; Math.abs(res)) {
                res = target - sum;
            }
        }
    }
    return target - res;
};


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/zui-jie-jin-de-san-shu-zhi-he">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/an-qi-ou-pai-xu-shu-zu">
                        按奇偶排序数组
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-10</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-success">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            给定一个非负整数数组 A，返回一个数组，在该数组中， A 的所有偶数元素之后跟着所有奇数元素。
你可以返回满足此条件的任何数组作为答案。
示例：
输入：[3,1,2,4]
输出：[2,4,3,1]
输出 [4,2,3,1]，[2,4,1,3] 和 [4,2,1,3] 也会被接受。

var sortArrayByParity = function(A) {
    for (let i = 0, j = A.length; i &amp;lt; j;) {
        if (A[i] % 2 === 0) {
            i++;
        } else if (A[--j] % 2 === 0) {
            A[i] ^= A[j];
            A[j] ^= A[i];
            A[i++] ^= A[j];
        }
    }
    return A;
};


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/an-qi-ou-pai-xu-shu-zu">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/hermes-engine-chu-tan">
                        Hermes Engine 初探
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-08</time>
                    
                        <a href="https://blog.ss1742.com/tag/Glthk27Wp" class="post-tag i-tag
                            i-tag-info">
            #原理
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            Hermes引擎是Facebook研发，在React-Native Android端用于替换JavaScript Core的JavaScript引擎。Hermes引擎的优势是适合移动端的轻量级JavaScript引擎，使用aot编译，可以减少Android端内存使用，减小安装包大小，提升执行效率。
Hermes的特色

预编译字节码（引擎加载二进制代码效率高于运行JS脚本）
无JIT编译器（减小了引擎大小，优化内存占用，但直接运行JS脚本的性能差于V8和JSC）
针对移动端的垃圾回收策略

主流JavaScript引擎
V8（Google）、JavaScriptCore（Apple）、SpiderMonkey（Firefox）
RN中的JavaScript引擎
Weex
Android：V8，iOS：JavaScriptCore
RN
Android：JavaScriptCore（Hermes、V8），iOS：JavaScriptCore（Apple要求）
注：Hermes Engine在React-native 0.60.2 版本后支持

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/hermes-engine-chu-tan">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/animation">
                        animation
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-08</time>
                    
                        <a href="https://blog.ss1742.com/tag/9sclIJ6sZ" class="post-tag i-tag
                            i-tag-">
            #css
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            animation-play-state
paused 暂停

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/animation">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/bindapplycall">
                        bind/apply/call
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-07</time>
                    
                        <a href="https://blog.ss1742.com/tag/I2t9Hpv1C" class="post-tag i-tag
                            i-tag-error">
            #js基础
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            bind
Function.prototype.bind2 = function(context) {
    let _this = this;
    let argsParent = Array.prototype.slice.call(arguments, 1);
    return function() {
        var args = argsParent.concat(Array.prototype.slice.call(arguments)); // 转化成数组
        _this.apply(context, args);
    };
}

apply
Function.prototype.apply2 = function(context, arr) {
    let context = context || window; // 因为传进来的context有可能是null
    context.fn = this;
    let args = [];
    let params = arr || [];
    for (var i = 0; i &amp;lt; params.length; i++) {
        args.push(&amp;quot;params[&amp;quot; + i + &amp;quot;]&amp;quot;); // 不这么做的话 字符串的引号会被自动去掉 变成了变量 导致报错
    }
    args = args.join(&amp;quot;,&amp;quot;);

    let result = eval(&amp;quot;context.fn(&amp;quot; + args + &amp;quot;)&amp;quot;); // 相当于执行了context.fn(arguments[1], arguments[2]);

    delete context.fn;
    return result; // 因为有可能this函数会有返回值return
}

call
Function.prototype.call2 = function(context) {
    let context = context || window; // 因为传进来的context有可能是null
    context.fn = this;
    let args = [];
    for (var i = 1; i &amp;lt; arguments.length; i++) {
        args.push(&amp;quot;arguments[&amp;quot; + i + &amp;quot;]&amp;quot;); // 不这么做的话 字符串的引号会被自动去掉 变成了变量 导致报错
    }
    args = args.join(&amp;quot;,&amp;quot;);

    let result = eval(&amp;quot;context.fn(&amp;quot; + args + &amp;quot;)&amp;quot;); // 相当于执行了context.fn(arguments[1], arguments[2]);

    delete context.fn;
    return result; // 因为有可能this函数会有返回值return
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/bindapplycall">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/zhuang-tai-ma-499">
                        状态码 499
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-05</time>
                    
                        <a href="https://blog.ss1742.com/tag/5CynFjhOR" class="post-tag i-tag
                            i-tag-info">
            #状态码
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            499 对应的是 client has closed connection，客户端请求等待链接已经关闭，这很有可能是因为服务器端处理的时间过长，客户端等得“不耐烦”了。还有一种原因是两次提交 post 过快就会出现 499。
解决方法：

前端将 timeout 最大等待时间设置大一些
nginx 上配置 proxy_ignore_client_abort on


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/zhuang-tai-ma-499">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/zheng-shu-zhong-1-chu-xian-de-ci-shu">
                        整数中1出现的次数
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-04</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-other_2">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            求出1 ~ 13的整数中1出现的次数,并算出100 ~ 1300的整数中1出现的次数？为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是对于后面问题他就没辙了。ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中1出现的次数。
题解
当计算右数第 i 位包含的 X 的个数时：

取第 i 位左边（高位）的数字，乘以 10i−1，得到基础值 a。
取第 i 位数字，计算修正值：
- 如果大于 X，则结果为 a+10i−1。
- 如果小于 X，则结果为 a。
- 如果等 X，则取第 i 位右边（低位）数字，设为 b，最后结果为 a+b+1。

function NumberOf1Between1AndN_Solution2(n) {
    let count = 0;
    for (let i = 1; i &amp;lt;= n; i *= 10) {
        let a = n / i, b = n % i;
        //之所以补8，是因为当百位为0，则a/10==(a+8)/10，
        //当百位&amp;gt;=2，补8会产生进位位，效果等同于(a/10+1)
        count += (a + 8) / 10 * i + ((a % 10 == 1) ? b + 1 : 0);
    }
    return count;
}

暴力思路
function NumberOf1Between1AndN_Solution(n) {
    return [
			...Array
			.from({ length: n })
			.keys()
		]
		.map(item =&amp;gt; item + 1)
    .join(&#39;&#39;)
    .replace(/[^1]/g, &#39;&#39;)
    .length;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/zheng-shu-zhong-1-chu-xian-de-ci-shu">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/kuai-pai">
                        快排
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-03</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-banana">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            // 递归
function quickSort1(arr) {
	if (arr.length &amp;lt; 2) return arr;
	let num = arr[0], left = [], right = [];
	for (let i = 1, len = arr.length; i &amp;lt; len; i++) {
		if (num &amp;lt; arr[i]) {
			right.push(arr[i]);
		} else {
			left.push(arr[i]);
		}
	}
	return [...quickSort1(left), num, ...quickSort1(right)];
}

// 非递归
function quickSort2(num, left, right) {
    var list = [[left, right]]; // 将[left,right]存入数组中，类似于递归入栈
    while (list.length &amp;gt; 0) { // 若list不为空，循环弹出list最后一个数组进行快排
        var now = list.pop(); // 弹出list末尾。(也可用list.shift()取出list第一个数组，但在数据量较大时，这种方式效率较低)
        if (now[0] &amp;gt;= now[1]) { // 若左右指针相遇，待排序数组长度小宇1，则无需进行快排(注意不能写成now[0]==now[1]，这里now[0]是有可能大于now[1]的
            continue;
        }
        var i = now[0], j = now[1], flag = now[0]; // 以下与递归方法相同，请参考上面的递归详解
        while (i &amp;lt; j) {
            while (num[j] &amp;gt;= num[flag] &amp;amp;&amp;amp; j &amp;gt; flag) j--;
            if (i &amp;gt;= j) {
                break;
            }
            while (num[i] &amp;lt;= num[flag] &amp;amp;&amp;amp; i &amp;lt; j) i++;
            let temp = num[flag];
            num[flag] = num[j];
            num[j] = num[i];
            num[i] = temp;
            flag = i;
        }
        list.push([now[0], flag - 1]); // 将flag左边数组作为待排序数组，只需将左右指针放入list即可。
        list.push([flag + 1, now[1]]); // 将flag右边数组作为待排序数组，只需将左右指针放入list即可。
	}
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/kuai-pai">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/da-shu-xiang-jia">
                        大数相加
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-01</time>
                    
                        <a href="https://blog.ss1742.com/tag/g8YjTKHRv" class="post-tag i-tag
                            i-tag-info">
            #算法
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            function add(a, b) {
		let la = a.length;
		let lb = b.length;
		if (la &amp;gt; lb) {
			b = b.padStart(la, &#39;0&#39;);
		} else {
			a = a.padStart(lb, &#39;0&#39;);
		}
		let tempA = a.split(&#39;&#39;).reverse();
		let tempB = b.split(&#39;&#39;).reverse();
		let res = [];
		for (let i = 0, len = tempA.length; i &amp;lt; len; i++) {
			res.push(parseInt(tempA[i]) + parseInt(tempB[i]));
		}
		for (let i = 0, len = res.length; i &amp;lt; len; i++) {
			if (res[i] &amp;gt;= 10) {
				res[i] = parseInt(res[i]) - 10;
				res[i+1] = parseInt(res[i+1]) + 1;
			}
		}

		return res.reverse().join(&#39;&#39;);
	}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/da-shu-xiang-jia">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://blog.ss1742.com/post/an-quan">
                        安全
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2019-08-01</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            sql 注入
表单提交的数据里带有 sql 命令
xss
Cross-site scripting 脚本攻击
防御
// &amp;lt; &amp;gt; 转义
str = str.replace(/&amp;lt;/g,&#39;&amp;amp;lt;&#39;);
str = str.replace(/&amp;lt;/g,&#39;&amp;amp;gt;&#39;);
// 引号 转义
str = str.replace(/&amp;quot;/g,&#39;&amp;amp;quto;&#39;);
str = str.replace(/&#39;/g,&#39;&amp;amp;#39;&#39;);
str = str.replace(/ /g,&#39;&amp;amp;#32;&#39;);

CSRF
Cross-site request forgery 跨站请求伪造
防御


验证码


伪随机值



                                        </div>
                                        
                                            <a class="btn btn-text" href="https://blog.ss1742.com/post/an-quan">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- 翻页 -->
                
    <div class="pagination-container">
        
                
                    <a href="https://blog.ss1742.com/page/2/" class="page-btn btn">下一页</a>
                    
    </div>
    
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- 个人信息 -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://blog.ss1742.com/images/avatar.png?v=1565452495358)">
        </div>
        <h1 class="id_card-title">
            1742·小博文
        </h1>
        <h2 class="id_card-description">
            这是我的真博客
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                <a href="https://github.com/bowenjun" target="_blank" rel="noopener noreferrer"><i
                class="fa fa-github"></i></a>
                
                    <!-- twitter -->
                    
                            <!-- weibo -->
                            
                                    <!-- facebook -->
                                    

        </div>
    </div>
    

                        <!-- 公告栏 -->
                        

                </div>
            </div>



            <div class="site-footer">
  1742 | 
  <a class="rss" href="https://blog.ss1742.com/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>